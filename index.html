<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Happy Birthday</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400&display=swap" rel="stylesheet">
<style>

/* ============================================================
   ROOT VARIABLES
   ============================================================ */
:root {
  --dp:  #c2185b;
  --rs:  #e91e8c;
  --bl:  #f48fb1;
  --lt:  #fce4ec;
  --pl:  #fff0f5;
  --nd:  #ffd6e7;
  --md:  #f06292;
  --gd:  #d4a0b0;
  --cr:  #fff9fb;
  --td:  #3d1a2e;
  --tm:  #7b3a5a;
  --ts:  #b06080;
}

/* ============================================================
   RESET
   ============================================================ */
*, *::before, *::after {
  margin: 0; padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Lato', 'Helvetica Neue', Arial, sans-serif;
  background: var(--cr);
  overflow-x: hidden;
  width: 100%;
}

/* ============================================================
   PAGE LOCK
   ============================================================ */
#page-lock {
  position: fixed;
  inset: 0;
  z-index: 9000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(145deg, #fce4ec 0%, #fff0f5 35%, #ffd6e7 65%, #fce4ec 100%);
  overflow: hidden;
  transition: opacity 0.8s ease, transform 0.8s ease;
}

#page-lock.hiding {
  opacity: 0;
  transform: scale(1.04);
  pointer-events: none;
}

/* petal */
.petal {
  position: absolute;
  border-radius: 50% 0 50% 0;
  pointer-events: none;
  animation: petalRise linear infinite;
}

@keyframes petalRise {
  0%   { transform: translateY(110vh) rotate(0deg);   opacity: 0; }
  8%   { opacity: 0.22; }
  92%  { opacity: 0.18; }
  100% { transform: translateY(-12vh) rotate(700deg); opacity: 0; }
}

/* deco blobs */
.lb {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  animation: blobPulse ease-in-out infinite;
}

@keyframes blobPulse {
  0%,100% { transform: scale(1); opacity: .07; }
  50%      { transform: scale(1.14); opacity: .13; }
}

/* sparkle cross */
.spk {
  position: absolute;
  pointer-events: none;
  animation: spkTwinkle ease-in-out infinite;
}
.spk::before, .spk::after {
  content: '';
  position: absolute;
  background: var(--rs);
  border-radius: 2px;
}
.spk::before { width: 2px; height: 14px; top: 50%; left: 50%; transform: translate(-50%,-50%); }
.spk::after  { width: 14px; height: 2px; top: 50%; left: 50%; transform: translate(-50%,-50%); }

@keyframes spkTwinkle {
  0%,100% { transform: scale(0) rotate(0deg);   opacity: 0; }
  50%      { transform: scale(1) rotate(45deg);  opacity: .55; }
}

/* lock card */
.lock-card {
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 52px 40px 62px;
  max-width: 420px;
  width: 90%;
}

.lock-eyebrow {
  font-family: 'Cormorant Garamond', serif;
  font-size: 11px;
  letter-spacing: 5px;
  color: var(--dp);
  text-transform: uppercase;
  margin-bottom: 32px;
  opacity: 0;
  animation: fadeUp .9s ease .1s both;
}

.lock-icon {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, #f8bbd9, #fce4ec);
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 28px;
  box-shadow: 0 8px 30px rgba(233,30,140,.15), inset 0 1px 0 rgba(255,255,255,.8);
  opacity: 0;
  animation: fadeUp .9s ease .25s both, iconBob 3s ease-in-out 1.2s infinite;
}

@keyframes iconBob {
  0%,100% { transform: translateY(0); }
  50%      { transform: translateY(-7px); }
}

.lock-icon svg {
  width: 36px; height: 36px;
  stroke: var(--dp); fill: none; stroke-width: 1.6;
}

.lock-title {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  color: var(--td);
  text-align: center;
  line-height: 1.3;
  margin-bottom: 6px;
  opacity: 0;
  animation: fadeUp .9s ease .4s both;
}

.lock-sub {
  font-family: 'Cormorant Garamond', serif;
  font-size: 15px;
  font-style: italic;
  color: var(--ts);
  text-align: center;
  margin-bottom: 44px;
  opacity: 0;
  animation: fadeUp .9s ease .55s both;
}

/* dots */
.dots-wrap {
  display: flex;
  gap: 18px;
  margin-bottom: 10px;
  cursor: pointer;
  opacity: 0;
  animation: fadeUp .9s ease .7s both;
}

.dot {
  width: 14px; height: 14px;
  border-radius: 50%;
  border: 2px solid var(--md);
  background: transparent;
  transition: all .3s cubic-bezier(.34,1.56,.64,1);
}

.dot.on {
  background: linear-gradient(135deg, var(--rs), var(--dp));
  border-color: var(--rs);
  box-shadow: 0 0 14px rgba(233,30,140,.45), 0 0 28px rgba(233,30,140,.18);
  transform: scale(1.22);
}

.dot.err {
  background: #e53935;
  border-color: #e53935;
  animation: dotShake .45s ease;
}

@keyframes dotShake {
  0%,100% { transform: translateX(0); }
  20%      { transform: translateX(-5px); }
  40%      { transform: translateX(5px); }
  60%      { transform: translateX(-5px); }
  80%      { transform: translateX(5px); }
}

.tap-hint {
  font-family: 'Lato', sans-serif;
  font-size: 12px;
  color: var(--ts);
  letter-spacing: .5px;
  margin-bottom: 38px;
  opacity: 0;
  animation: fadeUp .9s ease .82s both, hintPulse 2s ease-in-out 2s infinite;
}

@keyframes hintPulse {
  0%,100% { opacity: .9; }
  50%      { opacity: .3; }
}

.err-msg {
  font-family: 'Lato', sans-serif;
  font-size: 12px;
  letter-spacing: 1px;
  color: #c62828;
  text-align: center;
  height: 18px;
  opacity: 0;
  transition: opacity .3s;
  margin-top: 4px;
}

.err-msg.show { opacity: 1; }

/* ornament */
.ornament {
  display: flex;
  align-items: center;
  gap: 14px;
  width: 100%;
  margin-top: 38px;
  opacity: 0;
  animation: fadeUp .9s ease 1s both;
}

.orn-line {
  flex: 1; height: 1px;
  background: linear-gradient(to right, transparent, var(--bl), transparent);
}

.orn-mid {
  font-family: 'Cormorant Garamond', serif;
  font-size: 18px;
  color: var(--md);
}

/* hidden real input */
#realInput {
  position: absolute;
  left: -9999px; top: -9999px;
  opacity: 0; width: 1px; height: 1px;
  pointer-events: none;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(22px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ============================================================
   PAGE BIRTHDAY
   ============================================================ */
#page-bday {
  display: none;
  min-height: 100vh;
}

#page-bday.show { display: block; }

/* scroll progress */
#prog-bar {
  position: fixed;
  top: 0; left: 0;
  height: 3px;
  width: 0%;
  background: linear-gradient(90deg, var(--rs), var(--dp), var(--rs));
  background-size: 200% 100%;
  z-index: 9999;
  animation: shimmer 2s linear infinite;
}

/* ribbon */
.ribbon {
  width: 100%; height: 4px;
  background: linear-gradient(90deg, var(--lt), var(--rs), var(--dp), var(--rs), var(--lt));
  background-size: 200% 100%;
  animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
  0%   { background-position: 0% 0%; }
  100% { background-position: 200% 0%; }
}

/* ticker */
.ticker-wrap {
  width: 100%;
  overflow: hidden;
  padding: 14px 0;
  background: linear-gradient(90deg, var(--dp), var(--rs), var(--dp));
  background-size: 200% 100%;
  animation: shimmer 4s linear infinite;
}

.ticker-inner {
  display: flex;
  white-space: nowrap;
  animation: tickerMove 22s linear infinite;
}

@keyframes tickerMove {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.ticker-item {
  font-family: 'Cormorant Garamond', serif;
  font-size: 13px;
  letter-spacing: 4px;
  color: rgba(255,255,255,.85);
  text-transform: uppercase;
  padding: 0 38px;
  flex-shrink: 0;
}

/* ---- HERO ---- */
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  background: linear-gradient(155deg, #fce4ec 0%, #fff0f5 40%, #ffd6e7 70%, #fce4ec 100%);
}

.hero-bg { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }

.hero-blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(55px);
  pointer-events: none;
  animation: blobDrift ease-in-out infinite;
}

@keyframes blobDrift {
  0%,100% { transform: translate(0,0) scale(1); }
  33%      { transform: translate(18px,-18px) scale(1.05); }
  66%      { transform: translate(-14px,14px) scale(.95); }
}

.hero-content {
  position: relative;
  z-index: 5;
  text-align: center;
  padding: 60px 30px 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.hero-eyebrow {
  font-family: 'Cormorant Garamond', serif;
  font-size: 12px;
  letter-spacing: 6px;
  color: var(--dp);
  text-transform: uppercase;
  margin-bottom: 22px;
  opacity: 0;
  animation: fadeUp 1s ease .4s both;
}

.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(52px, 13vw, 88px);
  line-height: 1.05;
  margin-bottom: 18px;
  background: linear-gradient(110deg, var(--td) 0%, var(--dp) 40%, var(--tm) 60%, var(--rs) 100%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  opacity: 0;
  animation: fadeUp 1.2s ease .65s both, gradMove 5s linear 2s infinite;
}

.hero-title em { font-style: italic; display: block; }

@keyframes gradMove {
  0%   { background-position: 0% center; }
  100% { background-position: 200% center; }
}

.hero-div {
  display: flex; align-items: center; gap: 14px;
  margin: 20px 0;
  opacity: 0; animation: fadeUp 1s ease .9s both;
}

.hero-div-line { flex: 1; max-width: 80px; height: 1px; background: var(--bl); }
.hero-div-dot  { width: 6px; height: 6px; border-radius: 50%; background: var(--md); }

.hero-date {
  font-family: 'Cormorant Garamond', serif;
  font-size: 19px;
  font-style: italic;
  color: var(--ts);
  opacity: 0;
  animation: fadeUp 1s ease 1.05s both;
}

.scroll-ind {
  position: absolute;
  bottom: 36px; left: 50%;
  transform: translateX(-50%);
  display: flex; flex-direction: column; align-items: center; gap: 8px;
  opacity: 0; animation: fadeUp 1s ease 1.5s both;
}

.scroll-ind span {
  font-family: 'Cormorant Garamond', serif;
  font-size: 11px;
  letter-spacing: 3px;
  color: var(--ts);
  text-transform: uppercase;
}

.scroll-arr {
  width: 18px; height: 18px;
  border-right: 1.5px solid var(--md);
  border-bottom: 1.5px solid var(--md);
  transform: rotate(45deg);
  animation: arrBounce 1.5s ease-in-out infinite;
}

@keyframes arrBounce {
  0%,100% { transform: rotate(45deg) translateY(0); }
  50%      { transform: rotate(45deg) translateY(6px); }
}

/* confetti dot */
.cfti {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  animation: cftiFall linear infinite;
}

@keyframes cftiFall {
  0%   { transform: translateY(-8vh) rotate(0deg);    opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: .7; }
  100% { transform: translateY(112vh) rotate(360deg); opacity: 0; }
}

/* ---- SEPARATOR ---- */
.sep {
  display: flex; align-items: center; justify-content: center;
  gap: 18px;
  padding: 48px 30px;
  background: var(--cr);
}

.sep-line { flex: 1; max-width: 120px; height: 1px; }
.sep-line.l { background: linear-gradient(to right,  transparent, var(--bl)); }
.sep-line.r { background: linear-gradient(to left,   transparent, var(--bl)); }

.sep-icon {
  font-family: 'Cormorant Garamond', serif;
  font-size: 20px; color: var(--md);
}

/* ---- PHOTO BLOCK ---- */
.photo-block {
  min-height: 100vh;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 90px 30px 110px;
  position: relative; overflow: hidden;
}

.photo-block.bg-a { background: var(--pl); }
.photo-block.bg-b { background: linear-gradient(155deg, #fff0f5 0%, #fce4ec 100%); }

.pb-deco {
  position: absolute; border-radius: 50%;
  pointer-events: none; opacity: .06;
}

.pb-inner {
  max-width: 600px; width: 100%;
  display: flex; flex-direction: column; align-items: center;
  position: relative; z-index: 2;
}

.pb-num {
  font-family: 'Cormorant Garamond', serif;
  font-size: 11px;
  letter-spacing: 4px;
  color: var(--md);
  text-transform: uppercase;
  margin-bottom: 28px;
  opacity: 0; transform: translateY(20px);
  transition: opacity .7s ease, transform .7s ease;
}

.pb-num.vis { opacity: 1; transform: translateY(0); }

.photo-frame {
  position: relative;
  width: 100%; max-width: 360px;
  margin-bottom: 48px;
  opacity: 0; transform: translateY(40px) scale(.96);
  transition: opacity .95s cubic-bezier(.34,1.1,.64,1), transform .95s cubic-bezier(.34,1.1,.64,1);
}

.photo-frame.vis {
  opacity: 1; transform: translateY(0) scale(1);
}

.photo-frame::before {
  content: '';
  position: absolute; inset: -12px;
  border: 1px solid var(--bl);
  border-radius: 4px; z-index: 0;
  transition: inset .5s ease;
}

.photo-frame.vis::before { inset: -16px; }

.photo-frame::after {
  content: '';
  position: absolute; inset: -22px;
  border: 1px solid rgba(240,98,146,.18);
  border-radius: 6px; z-index: 0;
}

.photo-frame img {
  width: 100%; border-radius: 4px;
  display: block; position: relative; z-index: 1;
  object-fit: cover; aspect-ratio: 3/4;
  box-shadow: 0 20px 60px rgba(194,24,91,.12), 0 4px 20px rgba(0,0,0,.06);
  opacity: 0; transition: opacity 1s ease;
}

.photo-frame img.loaded { opacity: 1; }

.photo-frame .ov {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom, transparent 60%, rgba(252,228,236,.45) 100%);
  border-radius: 4px; z-index: 2; pointer-events: none;
}

.pb-text {
  width: 100%; text-align: center; padding: 0 8px;
}

.pb-text p {
  font-family: 'Cormorant Garamond', serif;
  font-size: 18px;
  color: var(--tm);
  line-height: 1.95;
  font-style: italic;
  opacity: 0; transform: translateY(24px);
  transition: opacity .85s ease .2s, transform .85s ease .2s;
}

.pb-text p.vis { opacity: 1; transform: translateY(0); }

/* ---- QUOTE BLOCK ---- */
.quote-block {
  padding: 80px 40px;
  text-align: center;
  position: relative; overflow: hidden;
  background: linear-gradient(135deg, #fff0f5, #fce4ec);
}

.quote-block::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(244,143,177,.07) 0%, transparent 50%, rgba(233,30,140,.05) 100%);
  animation: qShimmer 5s ease-in-out infinite;
  pointer-events: none;
}

@keyframes qShimmer {
  0%,100% { opacity: .5; }
  50%      { opacity: 1; }
}

.q-mark {
  font-family: 'Playfair Display', serif;
  font-size: 80px; line-height: .5;
  color: var(--bl); opacity: .4;
  display: block; margin-bottom: 18px;
}

.q-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: 20px; font-style: italic;
  color: var(--td); line-height: 1.85;
  max-width: 560px; margin: 0 auto;
  position: relative; z-index: 1;
  opacity: 0; transform: translateY(24px);
  transition: opacity .85s ease, transform .85s ease;
}

.q-text.vis { opacity: 1; transform: translateY(0); }

/* ---- CLOSING ---- */
.closing {
  min-height: 80vh;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 100px 30px;
  text-align: center;
  position: relative; overflow: hidden;
  background: linear-gradient(155deg, #fce4ec 0%, #fff0f5 50%, #ffd6e7 100%);
}

.cl-bg-letter {
  position: absolute;
  font-family: 'Playfair Display', serif;
  font-size: 220px; font-style: italic;
  color: rgba(240,98,146,.04);
  pointer-events: none; user-select: none;
  line-height: 1; bottom: -30px; right: -20px;
}

.cl-tag {
  font-family: 'Cormorant Garamond', serif;
  font-size: 11px; letter-spacing: 6px;
  color: var(--dp); text-transform: uppercase;
  margin-bottom: 28px;
  opacity: 0; transform: translateY(20px);
  transition: opacity .7s ease, transform .7s ease;
}

.cl-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(30px, 7vw, 52px);
  color: var(--td); line-height: 1.2;
  margin-bottom: 28px;
  opacity: 0; transform: translateY(30px);
  transition: opacity .9s ease .2s, transform .9s ease .2s;
}

.cl-title em { color: var(--dp); font-style: italic; }

.cl-body {
  font-family: 'Cormorant Garamond', serif;
  font-size: 17px; font-style: italic;
  color: var(--ts); line-height: 1.85;
  max-width: 500px;
  opacity: 0; transform: translateY(20px);
  transition: opacity .8s ease .4s, transform .8s ease .4s;
}

.closing.vis .cl-tag,
.closing.vis .cl-title,
.closing.vis .cl-body {
  opacity: 1; transform: translateY(0);
}

/* ---- MUSIC BUTTON ---- */
#music-btn-wrap {
  position: fixed;
  bottom: 26px; right: 20px;
  z-index: 9998;
  display: none;
}

#music-btn-wrap.show { display: block; }

.music-rings {
  position: absolute; inset: 0; pointer-events: none;
}

.mring {
  position: absolute; inset: -10px;
  border-radius: 50%;
  border: 1.5px solid rgba(233,30,140,.3);
  opacity: 0;
}

.is-playing .mring:nth-child(1) { animation: mringPulse 2s ease-out 0s infinite; }
.is-playing .mring:nth-child(2) { animation: mringPulse 2s ease-out .65s infinite; }
.is-playing .mring:nth-child(3) { animation: mringPulse 2s ease-out 1.3s infinite; }

@keyframes mringPulse {
  0%   { transform: scale(1);   opacity: .55; }
  100% { transform: scale(2.3); opacity: 0; }
}

#music-btn {
  width: 52px; height: 52px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--rs), var(--dp));
  border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 6px 24px rgba(233,30,140,.35);
  transition: transform .25s ease, box-shadow .25s ease;
  position: relative; z-index: 1;
}

#music-btn:active { transform: scale(.92); }

.is-playing #music-btn {
  animation: mBtnPulse 2.2s ease-in-out infinite;
}

@keyframes mBtnPulse {
  0%,100% { box-shadow: 0 6px 24px rgba(233,30,140,.35); }
  50%      { box-shadow: 0 6px 38px rgba(233,30,140,.65), 0 0 0 8px rgba(233,30,140,.1); }
}

#music-btn svg { width: 22px; height: 22px; fill: #fff; }

/* heart float */
.hrt {
  position: fixed;
  pointer-events: none;
  z-index: 9990;
  animation: hrtDrift ease-out forwards;
  font-size: 16px;
  color: var(--bl);
}

@keyframes hrtDrift {
  0%   { transform: translateY(0) scale(.6); opacity: .75; }
  60%  { opacity: .5; }
  100% { transform: translateY(-130px) scale(1.1); opacity: 0; }
}

/* falling petal birthday */
.bdpetal {
  position: fixed;
  border-radius: 50% 0 50% 0;
  pointer-events: none;
  z-index: 1;
  animation: bdPetalFall linear forwards;
}

@keyframes bdPetalFall {
  0%   { transform: translateY(-30px) rotate(0deg);    opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: .6; }
  100% { transform: translateY(110vh) rotate(540deg);  opacity: 0; }
}

/* particle trail */
.ptrail {
  position: fixed;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9995;
  animation: ptrailFade .7s ease-out forwards;
}

@keyframes ptrailFade {
  0%   { transform: scale(1); opacity: .7; }
  100% { transform: scale(0); opacity: 0; }
}

/* dblclick burst */
.burst-p {
  position: fixed;
  border-radius: 50%;
  pointer-events: none;
  z-index: 99999;
  animation: burstOut .8s ease-out forwards;
}

@keyframes burstOut {
  0%   { transform: translate(-50%,-50%) scale(1); opacity: 1; }
  100% { transform: translate(calc(-50% + var(--bx)), calc(-50% + var(--by))) scale(0); opacity: 0; }
}

/* stardust on scroll */
.sdust {
  position: fixed;
  width: 4px; height: 4px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9994;
  animation: sdustAnim ease-out forwards;
}

@keyframes sdustAnim {
  0%   { transform: scale(0); opacity: 0; }
  30%  { opacity: .9; }
  100% { transform: scale(1.5) translate(var(--tx), var(--ty)); opacity: 0; }
}

/* morphing blob hero */
.mblob {
  position: absolute;
  pointer-events: none;
  filter: blur(60px);
  border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  animation: morphB 9s ease-in-out infinite, blobDrift 7s ease-in-out infinite;
}

@keyframes morphB {
  0%,100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  25%      { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
  50%      { border-radius: 50% 50% 20% 80% / 25% 80% 25% 75%; }
  75%      { border-radius: 70% 30% 50% 50% / 30% 30% 70% 70%; }
}

/* cursor glow lock page */
#cursor-glow {
  position: fixed;
  width: 200px; height: 200px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(233,30,140,.07), transparent 70%);
  pointer-events: none;
  z-index: 1;
  transform: translate(-50%,-50%);
  transition: left .25s ease, top .25s ease;
  display: none;
}

/* page transition overlay */
#trans-overlay {
  position: fixed; inset: 0;
  background: linear-gradient(135deg, var(--rs), var(--dp));
  z-index: 99999;
  pointer-events: none;
  clip-path: circle(0% at 50% 50%);
  transition: clip-path .75s cubic-bezier(.77,0,.18,1);
}

#trans-overlay.open  { clip-path: circle(150% at 50% 50%); }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 480px) {
  .lock-card  { padding: 40px 22px 50px; }
  .lock-title { font-size: 23px; }
  .photo-block { padding: 60px 18px 80px; }
  .quote-block { padding: 60px 24px; }
  .q-text     { font-size: 17px; }
  .pb-text p  { font-size: 16px; }
  .hero-content { padding: 50px 20px 70px; }
}

@media (max-width: 360px) {
  .lock-title { font-size: 20px; }
  .dots-wrap  { gap: 14px; }
  .dot        { width: 12px; height: 12px; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: .01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
  }
}

</style>
</head>
<body>

<!-- transition overlay -->
<div id="trans-overlay"></div>
<div id="cursor-glow"></div>

<!-- ============================================================
     PAGE 1 — PASSWORD
     ============================================================ -->
<div id="page-lock">
  <div id="lock-petals"></div>

  <div class="lb" style="width:280px;height:280px;background:radial-gradient(circle,rgba(233,30,140,.14),transparent);top:-80px;right:-70px;animation-duration:4s;"></div>
  <div class="lb" style="width:220px;height:220px;background:radial-gradient(circle,rgba(194,24,91,.10),transparent);bottom:-60px;left:-60px;animation-duration:5s;animation-delay:1s;"></div>
  <div class="lb" style="width:140px;height:140px;background:radial-gradient(circle,rgba(240,98,146,.12),transparent);top:45%;right:8%;animation-duration:3.5s;animation-delay:.5s;"></div>

  <div class="spk" style="top:14%;left:11%;animation-duration:2.5s;animation-delay:.2s;"></div>
  <div class="spk" style="top:22%;right:14%;animation-duration:3.1s;animation-delay:.9s;"></div>
  <div class="spk" style="bottom:28%;left:16%;animation-duration:2.8s;animation-delay:1.5s;"></div>
  <div class="spk" style="bottom:18%;right:11%;animation-duration:2.3s;animation-delay:.6s;"></div>
  <div class="spk" style="top:58%;left:7%;animation-duration:3.4s;animation-delay:1.9s;"></div>
  <div class="spk" style="top:38%;right:7%;animation-duration:2.7s;animation-delay:1.1s;"></div>

  <div class="lock-card">
    <div class="lock-eyebrow">Sebuah Pesan Spesial</div>

    <div class="lock-icon">
      <svg viewBox="0 0 24 24">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
      </svg>
    </div>

    <h1 class="lock-title">Masukkan Sandi</h1>
    <p class="lock-sub">hanya untukmu yang tahu</p>

    <input type="tel" id="realInput" inputmode="numeric" autocomplete="off" maxlength="4" />

    <div class="dots-wrap" id="dotsWrap">
      <div class="dot" id="d0"></div>
      <div class="dot" id="d1"></div>
      <div class="dot" id="d2"></div>
      <div class="dot" id="d3"></div>
    </div>
    <p class="tap-hint">ketuk untuk mulai mengetik</p>

    <div class="err-msg" id="errMsg">sandi tidak tepat, coba lagi</div>

    <div class="ornament">
      <div class="orn-line"></div>
      <div class="orn-mid">&#10022;</div>
      <div class="orn-line"></div>
    </div>
  </div>
</div>

<!-- ============================================================
     PAGE 2 — BIRTHDAY
     ============================================================ -->
<div id="page-bday">

  <audio id="bgAudio" src="mine all mine.mp3" loop preload="auto"></audio>
  <div id="prog-bar"></div>

  <!-- music button -->
  <div id="music-btn-wrap">
    <div class="music-rings">
      <div class="mring"></div>
      <div class="mring"></div>
      <div class="mring"></div>
    </div>
    <button id="music-btn" aria-label="Toggle musik">
      <svg id="ico-pause" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
      <svg id="ico-play"  viewBox="0 0 24 24" style="display:none"><path d="M8 5v14l11-7z"/></svg>
    </button>
  </div>

  <div class="ribbon"></div>

  <!-- ticker -->
  <div class="ticker-wrap">
    <div class="ticker-inner">
      <span class="ticker-item">Happy Birthday &#x2665;</span>
      <span class="ticker-item">Selamat Ulang Tahun &#x2665;</span>
      <span class="ticker-item">You Are Loved &#x2665;</span>
      <span class="ticker-item">Make a Wish &#x2665;</span>
      <span class="ticker-item">Hari Ini Milik Kamu &#x2665;</span>
      <span class="ticker-item">Stay Beautiful &#x2665;</span>
      <span class="ticker-item">Happy Birthday &#x2665;</span>
      <span class="ticker-item">Selamat Ulang Tahun &#x2665;</span>
      <span class="ticker-item">You Are Loved &#x2665;</span>
      <span class="ticker-item">Make a Wish &#x2665;</span>
      <span class="ticker-item">Hari Ini Milik Kamu &#x2665;</span>
      <span class="ticker-item">Stay Beautiful &#x2665;</span>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg" id="heroBg"></div>
    <div class="hero-content">
      <div class="hero-eyebrow">Untukmu yang istimewa</div>
      <h1 class="hero-title">Happy<em>Birthday</em></h1>
      <div class="hero-div">
        <div class="hero-div-line"></div>
        <div class="hero-div-dot"></div>
        <div class="hero-div-line"></div>
      </div>
      <div class="hero-date">dengan segala cinta &amp; doa terbaik</div>
    </div>
    <div class="scroll-ind">
      <span>scroll</span>
      <div class="scroll-arr"></div>
    </div>
  </section>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#10022; &#10022; &#10022;</div><div class="sep-line r"></div></div>

  <!-- PHOTO 1 -->
  <div class="photo-block bg-a">
    <div class="pb-deco" style="width:400px;height:400px;background:#e91e8c;top:-110px;right:-150px;"></div>
    <div class="pb-deco" style="width:200px;height:200px;background:#c2185b;bottom:-80px;left:-80px;"></div>
    <div class="spk" style="top:10%;right:18%;animation-duration:2.9s;animation-delay:.4s;"></div>
    <div class="spk" style="bottom:14%;left:14%;animation-duration:3.3s;animation-delay:1.2s;"></div>
    <div class="pb-inner">
      <div class="pb-num" id="pn1">01 &mdash; kenangan</div>
      <div class="photo-frame" id="pf1">
        <img src="bday1.jpeg" alt="foto 1" loading="lazy" id="img1">
        <div class="ov"></div>
      </div>
      <div class="pb-text">
        <p id="pt1">hari ini bukan cuma soal nambah umur, tapi soal nambah cerita juga. udah banyak hal yang kamu lewatin sampe bisa ada di titik sekarang. mungkin ga semuanya gampang, mungkin juga ada fase capek yang ga semua orang liat, tapi kamu tetep jalan sampe hari ini. itu aja sebenernya udah jadi bukti kalo kamu lebih kuat dari yang kamu kira.</p>
      </div>
    </div>
  </div>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#x2765;</div><div class="sep-line r"></div></div>

  <!-- QUOTE 1 -->
  <div class="quote-block">
    <span class="q-mark">&ldquo;</span>
    <p class="q-text" id="qt1">di umur yang sekarang, aku cuma berharap kamu bisa jalan lebih tenang tanpa harus ngerasa dikejar apa apa. nikmatin prosesnya, nikmatin waktunya, dan jangan lupa kalo kamu juga berhak istirahat tanpa ngerasa bersalah. ga semua hal harus buru buru, kadang yang pelan justru lebih tahan lama.</p>
  </div>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#10022; &#10022; &#10022;</div><div class="sep-line r"></div></div>

  <!-- PHOTO 2 -->
  <div class="photo-block bg-b">
    <div class="pb-deco" style="width:350px;height:350px;background:#f48fb1;bottom:-100px;left:-120px;"></div>
    <div class="pb-deco" style="width:180px;height:180px;background:#e91e8c;top:-60px;right:-60px;"></div>
    <div class="spk" style="top:18%;left:18%;animation-duration:2.6s;animation-delay:.8s;"></div>
    <div class="spk" style="bottom:18%;right:16%;animation-duration:3.1s;animation-delay:1.6s;"></div>
    <div class="pb-inner">
      <div class="pb-num" id="pn2">02 &mdash; harapan</div>
      <div class="photo-frame" id="pf2">
        <img src="bday2.jpeg" alt="foto 2" loading="lazy" id="img2">
        <div class="ov"></div>
      </div>
      <div class="pb-text">
        <p id="pt2">aku harap di tahun ini kamu lebih sering ngerasain hal hal baik, sekecil apapun itu. entah itu ketawa yang tulus, kabar yang nenangin, atau momen simpel yang bikin kamu ngerasa cukup. karena kadang bahagia ga selalu dateng dari hal besar, tapi dari hal kecil yang pas waktunya.</p>
      </div>
    </div>
  </div>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#x2765;</div><div class="sep-line r"></div></div>

  <!-- QUOTE 2 -->
  <div class="quote-block">
    <span class="q-mark">&ldquo;</span>
    <p class="q-text" id="qt2">semoga juga apa yang lagi kamu kejar sekarang bisa pelan pelan nemuin jalannya. ga harus langsung berhasil, yang penting kamu ga berhenti. kalo pun nanti ada capeknya, inget aja kamu ga sendirian ngelewatin semuanya.</p>
  </div>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#10022; &#10022; &#10022;</div><div class="sep-line r"></div></div>

  <!-- PHOTO 3 -->
  <div class="photo-block bg-a">
    <div class="pb-deco" style="width:300px;height:300px;background:#e91e8c;top:-80px;left:-80px;"></div>
    <div class="pb-deco" style="width:250px;height:250px;background:#c2185b;bottom:-80px;right:-80px;"></div>
    <div class="spk" style="top:11%;right:14%;animation-duration:3.3s;animation-delay:.5s;"></div>
    <div class="spk" style="bottom:22%;left:11%;animation-duration:2.8s;animation-delay:1.3s;"></div>
    <div class="spk" style="top:48%;right:7%;animation-duration:2.5s;animation-delay:1s;"></div>
    <div class="pb-inner">
      <div class="pb-num" id="pn3">03 &mdash; terimakasih</div>
      <div class="photo-frame" id="pf3">
        <img src="bday3.jpeg" alt="foto 3" loading="lazy" id="img3">
        <div class="ov"></div>
      </div>
      <div class="pb-text">
        <p id="pt3">terakhir, makasih udah jadi diri kamu yang sekarang. tanpa harus jadi orang lain, tanpa harus maksa jadi sempurna. cukup jadi kamu yang terus belajar, terus jalan, dan terus tumbuh.</p>
      </div>
    </div>
  </div>

  <div class="sep"><div class="sep-line l"></div><div class="sep-icon">&#x2765;</div><div class="sep-line r"></div></div>

  <!-- CLOSING -->
  <div class="closing" id="closing">
    <div class="cl-bg-letter">&#x2665;</div>
    <div class="spk" style="top:18%;left:13%;animation-duration:2.7s;animation-delay:.3s;"></div>
    <div class="spk" style="top:18%;right:13%;animation-duration:3.2s;animation-delay:1.2s;"></div>
    <div class="spk" style="bottom:18%;left:18%;animation-duration:2.9s;animation-delay:.9s;"></div>
    <div class="spk" style="bottom:18%;right:18%;animation-duration:3.5s;animation-delay:1.7s;"></div>
    <div class="cl-tag">selamat ulang tahun</div>
    <h2 class="cl-title">Semoga harimu<br><em>selalu indah</em></h2>
    <p class="cl-body">selamat ulang tahun ya. semoga langkah kamu ke depan lebih ringan, harapan kamu satu satu nemu jawabannya, dan hati kamu tetep hangat walaupun dunia kadang ga selalu ramah. hari ini milik kamu, jadi nikmatin dengan cara yang paling bikin kamu nyaman.</p>
  </div>

  <div class="ribbon"></div>

</div>

<!-- ============================================================
     JAVASCRIPT — CLEAN, NO BUGS
     ============================================================ -->
<script>
(function () {
  var PASS = '2612';
  var typed = '';
  var musicOn = true;

  /* refs */
  var pageLock   = document.getElementById('page-lock');
  var pageBday   = document.getElementById('page-bday');
  var realInput  = document.getElementById('realInput');
  var dotsWrap   = document.getElementById('dotsWrap');
  var errMsg     = document.getElementById('errMsg');
  var transOv    = document.getElementById('trans-overlay');
  var bgAudio    = document.getElementById('bgAudio');
  var musicWrap  = document.getElementById('music-btn-wrap');
  var progBar    = document.getElementById('prog-bar');
  var curGlow    = document.getElementById('cursor-glow');
  var musicBtn   = document.getElementById('music-btn');

  /* ---- LOCK PAGE PETALS ---- */
  var lockPetals = document.getElementById('lock-petals');
  var pC = ['#f48fb1','#f06292','#e91e8c','#ffd6e7','#c2185b','#fce4ec'];
  for (var i = 0; i < 18; i++) {
    var p = document.createElement('div');
    p.className = 'petal';
    var sz = Math.random() * 20 + 10;
    p.style.width  = sz + 'px';
    p.style.height = sz + 'px';
    p.style.left   = (Math.random() * 100) + '%';
    p.style.background = pC[Math.floor(Math.random() * pC.length)];
    p.style.animationDuration = (Math.random() * 9 + 6) + 's';
    p.style.animationDelay    = (Math.random() * 8) + 's';
    lockPetals.appendChild(p);
  }

  /* ---- INPUT FOCUS ---- */
  function focusInput() {
    realInput.style.position = 'fixed';
    realInput.style.left = '50%';
    realInput.style.top  = '50%';
    realInput.style.opacity = '0';
    realInput.style.pointerEvents = 'auto';
    realInput.focus();
  }

  dotsWrap.addEventListener('click', focusInput);
  dotsWrap.addEventListener('touchend', function(e) { e.preventDefault(); focusInput(); });
  pageLock.addEventListener('click', focusInput);

  realInput.addEventListener('input', function () {
    var val = this.value.replace(/\D/g, '').slice(0, 4);
    this.value = val;
    typed = val;
    updateDots(typed.length);
    if (typed.length === 4) {
      setTimeout(checkPass, 200);
    }
  });

  realInput.addEventListener('keydown', function (e) {
    if (e.key === 'Backspace') {
      typed = typed.slice(0, -1);
      this.value = typed;
      updateDots(typed.length);
    }
  });

  function updateDots(n) {
    for (var j = 0; j < 4; j++) {
      var d = document.getElementById('d' + j);
      d.classList.remove('on', 'err');
      if (j < n) d.classList.add('on');
    }
  }

  function checkPass() {
    if (typed === PASS) {
      openBday();
    } else {
      badPass();
    }
  }

  function badPass() {
    for (var j = 0; j < 4; j++) {
      var d = document.getElementById('d' + j);
      d.classList.remove('on');
      d.classList.add('err');
    }
    errMsg.classList.add('show');
    setTimeout(function () {
      errMsg.classList.remove('show');
      typed = '';
      realInput.value = '';
      updateDots(0);
      focusInput();
    }, 1300);
  }

  /* ---- OPEN BIRTHDAY ---- */
  function openBday() {
    transOv.classList.add('open');

    setTimeout(function () {
      pageLock.style.display = 'none';
      pageBday.classList.add('show');
      window.scrollTo(0, 0);

      musicWrap.classList.add('show');
      musicWrap.classList.add('is-playing');

      bgAudio.play().catch(function () {
        musicOn = false;
        musicWrap.classList.remove('is-playing');
        document.getElementById('ico-pause').style.display = 'none';
        document.getElementById('ico-play').style.display  = 'block';
      });

      buildHero();
      initReveal();
      startPetals();
      initTrail();

      setTimeout(function () {
        transOv.style.transition = 'clip-path .55s ease';
        transOv.style.clipPath = 'circle(0% at 50% 50%)';
        setTimeout(function () {
          transOv.style.transition = '';
          transOv.classList.remove('open');
        }, 600);
      }, 200);

    }, 700);
  }

  /* ---- MUSIC TOGGLE ---- */
  musicBtn.addEventListener('click', function () {
    if (musicOn) {
      bgAudio.pause();
      musicOn = false;
      musicWrap.classList.remove('is-playing');
      document.getElementById('ico-pause').style.display = 'none';
      document.getElementById('ico-play').style.display  = 'block';
    } else {
      bgAudio.play();
      musicOn = true;
      musicWrap.classList.add('is-playing');
      document.getElementById('ico-pause').style.display = 'block';
      document.getElementById('ico-play').style.display  = 'none';
    }
  });

  /* ---- BUILD HERO ---- */
  function buildHero() {
    var heroBg = document.getElementById('heroBg');
    var cfC = ['#f48fb1','#f06292','#e91e8c','#ffd6e7','#c2185b','#fff0f5','#d4a0b0'];

    for (var i = 0; i < 28; i++) {
      var c = document.createElement('div');
      c.className = 'cfti';
      var sz = Math.random() * 9 + 4;
      c.style.width  = sz + 'px';
      c.style.height = sz + 'px';
      c.style.left   = (Math.random() * 100) + '%';
      c.style.background = cfC[Math.floor(Math.random() * cfC.length)];
      c.style.animationDuration = (Math.random() * 6 + 4) + 's';
      c.style.animationDelay    = (Math.random() * 4) + 's';
      heroBg.appendChild(c);
    }

    var bCfg = [
      { w:220, h:200, t:'8%',  l:'8%',  bg:'rgba(233,30,140,.07)',  dur:'9s',  dl:'0s' },
      { w:180, h:200, b:'12%', r:'10%', bg:'rgba(194,24,91,.05)',   dur:'11s', dl:'2s' },
      { w:160, h:180, t:'42%', r:'4%',  bg:'rgba(244,143,177,.08)', dur:'7s',  dl:'1s' }
    ];

    bCfg.forEach(function (cfg) {
      var b = document.createElement('div');
      b.className = 'mblob';
      b.style.width  = cfg.w + 'px';
      b.style.height = cfg.h + 'px';
      b.style.background = cfg.bg;
      if (cfg.t) b.style.top    = cfg.t;
      if (cfg.b) b.style.bottom = cfg.b;
      if (cfg.l) b.style.left   = cfg.l;
      if (cfg.r) b.style.right  = cfg.r;
      b.style.animationDuration = cfg.dur + ', ' + cfg.dur;
      b.style.animationDelay    = cfg.dl + ', ' + cfg.dl;
      heroBg.appendChild(b);
    });
  }

  /* ---- SCROLL REVEAL ---- */
  function initReveal() {
    if (!window.IntersectionObserver) {
      /* fallback: show everything */
      ['pf1','pf2','pf3','pn1','pn2','pn3','pt1','pt2','pt3','qt1','qt2'].forEach(function(id){
        var el = document.getElementById(id);
        if (el) el.classList.add('vis');
      });
      var cl = document.getElementById('closing');
      if (cl) cl.classList.add('vis');
      return;
    }

    var io = new IntersectionObserver(function (entries) {
      entries.forEach(function (entry) {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('vis');
      });
    }, { threshold: 0.13 });

    ['pf1','pf2','pf3','pn1','pn2','pn3','pt1','pt2','pt3','qt1','qt2'].forEach(function (id) {
      var el = document.getElementById(id);
      if (el) io.observe(el);
    });

    var closing = document.getElementById('closing');
    if (closing) io.observe(closing);

    /* img fade */
    ['img1','img2','img3'].forEach(function (id) {
      var img = document.getElementById(id);
      if (!img) return;
      function show() { img.classList.add('loaded'); }
      if (img.complete) show();
      else img.addEventListener('load', show);
    });

    /* scroll progress */
    window.addEventListener('scroll', function () {
      var st = window.scrollY;
      var dh = document.body.scrollHeight - window.innerHeight;
      if (dh > 0) progBar.style.width = (st / dh * 100) + '%';
    }, { passive: true });

    /* parallax hero */
    window.addEventListener('scroll', function () {
      var sy = window.scrollY;
      var vh = window.innerHeight;
      var hc = document.querySelector('.hero-content');
      if (hc && sy < vh) {
        hc.style.transform = 'translateY(' + (sy * 0.28) + 'px)';
        hc.style.opacity   = String(Math.max(0, 1 - sy / vh * 1.3));
      }
    }, { passive: true });
  }

  /* ---- FALLING PETALS ---- */
  function startPetals() {
    var pC2 = [
      'rgba(244,143,177,.35)',
      'rgba(240,98,146,.25)',
      'rgba(233,30,140,.2)',
      'rgba(255,214,231,.4)',
      'rgba(212,160,176,.3)'
    ];

    function spawnPetal() {
      if (!pageBday.classList.contains('show')) return;
      var p = document.createElement('div');
      p.className = 'bdpetal';
      var sz  = Math.random() * 18 + 8;
      var dur = Math.random() * 7 + 5;
      p.style.width  = sz + 'px';
      p.style.height = (sz * .7) + 'px';
      p.style.background = pC2[Math.floor(Math.random() * pC2.length)];
      p.style.left  = (Math.random() * 100) + 'vw';
      p.style.animationDuration = dur + 's';
      document.body.appendChild(p);
      setTimeout(function () {
        if (p.parentNode) p.parentNode.removeChild(p);
      }, (dur + 1.5) * 1000);
    }

    setInterval(spawnPetal, 500);
  }

  /* ---- SCROLL HEARTS ---- */
  var lastHrt = 0;
  var hrtSyms = ['♡','♥','❤'];
  window.addEventListener('scroll', function () {
    if (!pageBday.classList.contains('show')) return;
    var now = Date.now();
    if (now - lastHrt < 500) return;
    lastHrt = now;
    if (Math.random() > .4) return;

    var h = document.createElement('div');
    h.className = 'hrt';
    h.textContent = hrtSyms[Math.floor(Math.random() * hrtSyms.length)];
    var dur = Math.random() * 2 + 2;
    h.style.left     = (Math.random() * 80 + 10) + '%';
    h.style.bottom   = (Math.random() * 30 + 10) + '%';
    h.style.fontSize = (Math.random() * 16 + 10) + 'px';
    h.style.animationDuration = dur + 's';
    document.body.appendChild(h);
    setTimeout(function () {
      if (h.parentNode) h.parentNode.removeChild(h);
    }, dur * 1000 + 400);
  }, { passive: true });

  /* ---- STARDUST ---- */
  var lastSd = 0;
  var sdC = ['#f48fb1','#f06292','#e91e8c'];
  window.addEventListener('scroll', function () {
    if (!pageBday.classList.contains('show')) return;
    var now = Date.now();
    if (now - lastSd < 250) return;
    lastSd = now;

    for (var i = 0; i < 3; i++) {
      (function () {
        var s = document.createElement('div');
        s.className = 'sdust';
        var tx = (Math.random() - .5) * 60;
        var ty = (Math.random() - .5) * 60;
        s.style.setProperty('--tx', tx + 'px');
        s.style.setProperty('--ty', ty + 'px');
        s.style.left = (Math.random() * 80 + 10) + '%';
        s.style.top  = (Math.random() * 80 + 10) + '%';
        s.style.background = sdC[Math.floor(Math.random() * sdC.length)];
        s.style.animationDuration = (Math.random() * .8 + .7) + 's';
        document.body.appendChild(s);
        setTimeout(function () {
          if (s.parentNode) s.parentNode.removeChild(s);
        }, 1400);
      }());
    }
  }, { passive: true });

  /* ---- PARTICLE TRAIL ---- */
  var trailC = ['#f48fb1','#f06292','#e91e8c','#ffd6e7','#c2185b'];
  var trailOn = true;
  var lastTrl = 0;

  function spawnTrail(x, y) {
    if (!trailOn || !pageBday.classList.contains('show')) return;
    var now = Date.now();
    if (now - lastTrl < 45) return;
    lastTrl = now;
    var t = document.createElement('div');
    t.className = 'ptrail';
    var sz = Math.random() * 7 + 3;
    t.style.width  = sz + 'px';
    t.style.height = sz + 'px';
    t.style.left   = (x - sz / 2) + 'px';
    t.style.top    = (y - sz / 2) + 'px';
    t.style.background = trailC[Math.floor(Math.random() * trailC.length)];
    document.body.appendChild(t);
    setTimeout(function () {
      if (t.parentNode) t.parentNode.removeChild(t);
    }, 800);
  }

  function initTrail() {
    window.addEventListener('mousemove', function (e) { spawnTrail(e.clientX, e.clientY); });
    window.addEventListener('touchmove', function (e) {
      var touch = e.touches[0];
      spawnTrail(touch.clientX, touch.clientY);
    }, { passive: true });
    setTimeout(function () { trailOn = false; }, 35000);
  }

  /* ---- DOUBLE CLICK BURST ---- */
  var burstC = ['#f48fb1','#f06292','#e91e8c','#ffd6e7','#c2185b','#fff'];
  document.addEventListener('dblclick', function (e) {
    if (!pageBday.classList.contains('show')) return;
    for (var i = 0; i < 12; i++) {
      (function (idx) {
        var b = document.createElement('div');
        b.className = 'burst-p';
        var angle = (idx / 12) * Math.PI * 2;
        var dist  = Math.random() * 60 + 30;
        var bx    = Math.cos(angle) * dist;
        var by    = Math.sin(angle) * dist;
        var sz    = Math.random() * 9 + 4;
        b.style.setProperty('--bx', bx + 'px');
        b.style.setProperty('--by', by + 'px');
        b.style.left   = e.clientX + 'px';
        b.style.top    = e.clientY + 'px';
        b.style.width  = sz + 'px';
        b.style.height = sz + 'px';
        b.style.background = burstC[Math.floor(Math.random() * burstC.length)];
        document.body.appendChild(b);
        setTimeout(function () {
          if (b.parentNode) b.parentNode.removeChild(b);
        }, 900);
      }(i));
    }
  });

  /* ---- PHOTO HOVER TILT ---- */
  document.querySelectorAll('.photo-frame').forEach(function (frame) {
    frame.addEventListener('mousemove', function (e) {
      var rect = this.getBoundingClientRect();
      var x = (e.clientX - rect.left) / rect.width  - .5;
      var y = (e.clientY - rect.top)  / rect.height - .5;
      this.style.transform  = 'rotateY(' + (x * 9) + 'deg) rotateX(' + (-y * 9) + 'deg) scale(1.03)';
      this.style.transition = 'transform .1s ease';
    });
    frame.addEventListener('mouseleave', function () {
      this.style.transform  = '';
      this.style.transition = 'transform .65s ease';
    });
  });

  /* ---- CURSOR GLOW (LOCK PAGE) ---- */
  pageLock.addEventListener('mousemove', function (e) {
    curGlow.style.display = 'block';
    curGlow.style.left = e.clientX + 'px';
    curGlow.style.top  = e.clientY + 'px';
  });

  /* ---- AUTO FOCUS ON LOAD ---- */
  window.addEventListener('load', function () {
    setTimeout(focusInput, 600);
  });

  /* touch feedback dots */
  dotsWrap.addEventListener('touchstart', function () {
    dotsWrap.style.opacity = '.7';
    setTimeout(function () { dotsWrap.style.opacity = '1'; }, 200);
  }, { passive: true });

}());
</script>
</body>
</html>
